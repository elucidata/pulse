import{c as u,e as l,f as T,g as S,h as p}from"./chunk-HLXJKA5P.js";var c={storage:globalThis.localStorage,toStorage:JSON.stringify,fromStorage:JSON.parse};function v(e,r,n){let{storage:t,toStorage:s,fromStorage:i}={...c,...n};if(!t)return console.warn("No storage available, using regular signal",e),l(r);let a=t.getItem(e),o=l(a?i(a):r);return T(()=>{let g=s(o.value),f=i(t.getItem(e));g!==f&&t.setItem(e,g)}),o}function I(e,r,n=!1){let t=e.peek(),s=typeof r=="function"?r(t):r;if(typeof s!="object"||s===null)return e.set(s);{let a={...t,...s};return e.set(a),n?d(t,a):void 0}}function d(e,r){let n=Reflect.ownKeys(e),t=Reflect.ownKeys(r),s=t.filter(o=>!n.includes(o)),i=n.filter(o=>!t.includes(o)),a=n.filter(o=>e[o]!==r[o]);return[...s,...i,...a]}export{u as Signal,p as batch,S as computed,T as effect,v as persistedSignal,l as signal,I as update};
