import{f as d,i as y}from"./chunk-CUI6NBDB.js";import w from"htm";var a=[];function b(o,e){if(a.length===0)throw new Error("setContext must be called within a component");a[a.length-1]?.set(o,e)}function E(o){for(let e=a.length-1;e>=0;e--)if(a[e]?.has(o))return a[e]?.get(o);throw new Error("Context not found for key")}var l=[];function M(o){if(l.length===0)throw new Error("onMount must be called within a component");queueMicrotask(()=>{let e=o();e&&N(e)})}function N(o){if(l.length===0)throw new Error("onUnmount must be called within a component");l[l.length-1]?.push(o)}function C(o,e,...s){if(typeof o=="function")return g(o,e,s);let r=document.createElement(o);if(e){for(let[t,n]of Object.entries(e))if(t!=="children")if(t.startsWith("on")){let i=t.slice(2).toLowerCase();r.addEventListener(i,n)}else t==="style"&&typeof n=="object"?Object.assign(r.style,n):t==="use"&&typeof n=="function"?n(r):typeof n=="function"?d(()=>{let i=n();i===!1||i==null?r.removeAttribute(t):r.setAttribute(t,String(i))}):y(n)?d(()=>{let i=n.value;i===!1||i==null?r.removeAttribute(t):r.setAttribute(t,String(i))}):r.setAttribute(t,n)}let c=e?.children?Array.isArray(e.children)?e.children:[e.children]:[];c.push(...s);for(let t of c)m(r,t);return r}function m(o,e){if(Array.isArray(e))e.forEach(s=>m(o,s));else if(typeof e=="function"){let s=document.createComment("start"),r=document.createComment("end");o.appendChild(s),o.appendChild(r),d(()=>{let c=e(),t=document.createRange();t.setStartAfter(s),t.setEndBefore(r),t.deleteContents();let n;c instanceof Node?n=[c]:Array.isArray(c)?(n=[],c.forEach(i=>{let f=document.createDocumentFragment();m(f,i),n.push(...Array.from(f.childNodes))})):c!=null?n=[document.createTextNode(String(c))]:n=[],n.forEach(i=>{r.parentNode.insertBefore(i,r)})})}else e instanceof Node?o.appendChild(e):e!=null&&o.appendChild(document.createTextNode(String(e)))}function g(o,e,s){let r=new Map;a.push(r);let c=[];l.push(c);let t=o(e,s),n;if(Array.isArray(t)){let u=document.createDocumentFragment();t.forEach(p=>{m(u,p)}),n=u}else t instanceof Node?n=t:t!=null?n=document.createTextNode(String(t)):n=document.createComment("");let i=document.createComment(""),f=document.createDocumentFragment();f.appendChild(i),f.appendChild(n);let h=new MutationObserver(u=>{for(let p of u)p.removedNodes.forEach(x=>{if(x===i){h.disconnect();for(let v of c)v();a.pop(),l.pop()}})});return queueMicrotask(()=>{i.parentNode&&h.observe(i.parentNode,{childList:!0})}),f}function S(o,e){let s=g(o,null,[]),r=Array.from(s.childNodes);return e.appendChild(s),()=>{r.forEach(c=>{e.contains(c)&&e.removeChild(c)})}}var L=w.bind(C);export{b as a,E as b,M as c,N as d,C as e,S as f,L as g};
