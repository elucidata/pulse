import{a as m,b as l,d as u}from"../chunk-QN5SRUK7.js";import*as e from"react";function x(n){return function(c){let[,r]=e.useState(0),t=e.useRef(null);if(!t.current){let i=new u(()=>{r(f=>f+1)});t.current=i}e.useEffect(()=>()=>{t.current?.cleanup()},[]);let o=null,a=m();l(t.current);try{o=n(c)}finally{l(a)}return o}}import{useState as R,useRef as p,useEffect as C}from"react";function w(n){let[s,c]=R(()=>n()),r=p(n);r.current=n;let t=p(null);return C(()=>{let o=new u(()=>{let a=r.current();c(a)});return t.current=o,()=>{o.cleanup(),t.current=null}},[]),s}export{x as observer,w as useComputed};
