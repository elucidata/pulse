import{f as a}from"../chunk-QN5SRUK7.js";var s=[];function x(n,e){if(s.length===0)throw new Error("setContext must be called within a component");s[s.length-1]?.set(n,e)}function y(n){for(let e=s.length-1;e>=0;e--)if(s[e]?.has(n))return s[e]?.get(n);throw new Error("Context not found for key")}var f=[];function C(n){if(f.length===0)throw new Error("onMount must be called within a component");queueMicrotask(n)}function w(n){if(f.length===0)throw new Error("onUnmount must be called within a component");f[f.length-1]?.push(n)}function u(n,e,...t){if(typeof n=="function")return p(n,e,t);let o=document.createElement(n);if(e){for(let[r,c]of Object.entries(e))if(r!=="children")if(r.startsWith("on")){let l=r.slice(2).toLowerCase();o.addEventListener(l,c)}else r==="style"&&typeof c=="object"?Object.assign(o.style,c):r==="use"&&typeof c=="function"?c(o):o.setAttribute(r,c)}let i=e?.children?Array.isArray(e.children)?e.children:[e.children]:[];i.push(...t);for(let r of i)d(o,r);return o}function d(n,e){if(Array.isArray(e))e.forEach(t=>d(n,t));else if(typeof e=="function"){let t=document.createComment("");n.appendChild(t),a(()=>{let o=e(),i;o instanceof Node?i=o:i=document.createTextNode(String(o)),t.parentNode&&t.parentNode.replaceChild(i,t),t=i})}else e instanceof Node?n.appendChild(e):e!=null&&n.appendChild(document.createTextNode(String(e)))}function p(n,e,t){let o=new Map;s.push(o);let i=[];f.push(i);let r=n(e,t),c=new MutationObserver(l=>{for(let m of l)if(Array.from(m.removedNodes).includes(r)){c.disconnect();for(let h of i)h();s.pop(),f.pop();break}});return c.observe(r.parentNode||document,{childList:!0}),r}function v(n,e){let t=p(n,null,[]);return e.appendChild(t),()=>{e.removeChild(t)}}import b from"htm";var N=b.bind(u);export{y as getContext,u as h,N as html,C as onMount,w as onUnmount,v as render,x as setContext};
