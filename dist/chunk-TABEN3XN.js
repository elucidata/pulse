import{f as h,i as y}from"./chunk-CUI6NBDB.js";import A from"htm";var s=[];function M(t,e){if(s.length===0)throw new Error("setContext must be called within a component");s[s.length-1]?.set(t,e)}function F(t){for(let e=s.length-1;e>=0;e--)if(s[e]?.has(t))return s[e]?.get(t);throw new Error("Context not found for key")}var u=[];function S(t){if(u.length===0)throw new Error("onMount must be called within a component");queueMicrotask(()=>{let e=t();e&&E(e)})}function E(t){if(u.length===0)throw new Error("onUnmount must be called within a component");u[u.length-1]?.push(t)}function v(t,e,...i){if(typeof t=="function")return x(t,e,i);let r=document.createElement(t);if(e){for(let[n,o]of Object.entries(e))if(n!=="children")if(n.startsWith("on")){let a=n.slice(2).toLowerCase();r.addEventListener(a,o)}else n==="style"&&typeof o=="object"?Object.assign(r.style,o):n==="use"&&typeof o=="function"?o(r):typeof o=="function"?C(r,n,()=>o()):y(o)?C(r,n,()=>o.value):r.setAttribute(n,o)}let c=e?.children?Array.isArray(e.children)?e.children:[e.children]:[];c.push(...i);for(let n of c)m(r,n);return r}function C(t,e,i){h(()=>{let r=i();r===!1||r==null?t.removeAttribute(e):t.setAttribute(e,String(r))})}function m(t,e){Array.isArray(e)?e.forEach(i=>m(t,i)):typeof e=="function"?g(t,e,()=>e()):y(e)?g(t,e,()=>e.value):e instanceof Node?t.appendChild(e):e!=null&&t.appendChild(document.createTextNode(String(e)))}function g(t,e,i){let r=document.createComment("start"),c=document.createComment("end");t.appendChild(r),t.appendChild(c),h(()=>{let n=i(),o=document.createRange();o.setStartAfter(r),o.setEndBefore(c),o.deleteContents();let a;n instanceof Node?a=[n]:Array.isArray(n)?(a=[],n.forEach(f=>{let l=document.createDocumentFragment();m(l,f),a.push(...Array.from(l.childNodes))})):n!=null?a=[document.createTextNode(String(n))]:a=[],a.forEach(f=>{c.parentNode.insertBefore(f,c)})})}function x(t,e,i){let r=new Map;s.push(r);let c=[];u.push(c);let n=t(e,i),o;if(Array.isArray(n)){let d=document.createDocumentFragment();n.forEach(p=>{m(d,p)}),o=d}else n instanceof Node?o=n:n!=null?o=document.createTextNode(String(n)):o=document.createComment("");let a=document.createComment(""),f=document.createDocumentFragment();f.appendChild(a),f.appendChild(o);let l=new MutationObserver(d=>{for(let p of d)p.removedNodes.forEach(N=>{if(N===a){l.disconnect();for(let w of c)w();s.pop(),u.pop()}})});return queueMicrotask(()=>{a.parentNode&&l.observe(a.parentNode,{childList:!0})}),f}function T(t,e){let i=x(t,null,[]),r=Array.from(i.childNodes);return e.appendChild(i),()=>{r.forEach(c=>{e.contains(c)&&e.removeChild(c)})}}var D=A.bind(v);export{M as a,F as b,S as c,E as d,v as e,T as f,D as g};
