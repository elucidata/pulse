import{n as l}from"./chunk-GFJTMIG6.js";var T={storage:globalThis.localStorage,toStorage:JSON.stringify,fromStorage:JSON.parse};function d(e,r,n){let{storage:t,toStorage:o,fromStorage:i}={...T,...n};if(!t)return console.warn("No storage available, using regular signal",e),l(r);let a=t.getItem(e),s=l(a?i(a):r);return s.subscribe(g=>{t.setItem(e,o(g))}),s}function u(e,r,n=!1){let t=e.peek(),o=typeof r=="function"?r(t):r;if(typeof o!="object"||o===null)return e.set(o);{let a={...t,...o};return e.set(a),n?f(t,a):!0}}function f(e,r){let n=Reflect.ownKeys(e),t=Reflect.ownKeys(r),o=t.filter(s=>!n.includes(s)),i=n.filter(s=>!t.includes(s)),a=n.filter(s=>e[s]!==r[s]);return[...o,...i,...a]}export{d as a,u as b};
